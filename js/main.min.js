const modal=e=>{const t=Object.assign({contentSelector:"",headerText:"",modalId:"",btnToShowSelector:""},e),n=document.body;function o(){const e=document.querySelector(t.contentSelector);return(e=>{const t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild})('\n      <div class="modal" id=\'{{modalId}}\'>\n          <div class="modal__container">\n              <div class="modal__body">\n                  <div class="modal__header">{{modalHeader}}</div>\n                  <div class="modal__close">\n                      <a href="#">\n                          &times;\n                      </a>\n                  </div>\n                  <div class="modal__content">\n                      {{modalContent}}\n                      <form action="#" class="form" id="add-form">\n                      <p>Full Name </p>\n                      <div class="input-box">\n                      <input type="text" class="input-field box" placeholder="Your Name">\n                      </div>\n                      <p class="email">Email</p>\n                      <div class="input-box">\n                      <input type="email" class="input-field box input-email" placeholder="Your Email">\n                      </div>\n                      <p class="message">Message</p>\n                      <div class="input-box">\n                      <textarea type="text" class="input-field box input-message"></textarea>\n                      </div>\n                      </form>\n                      <div class="modal__buttonbar">\n                      <input type="submit" class="buttonbar__ok" value="SUBMIT">\n                      </div>\n                  </div>\n              </div>\n          </div>\n      </div>\n      '.replace("{{modalId}}",t.modalId).replace("{{modalHeader}}",t.headerText).replace("{{modalContent}}",e.innerHTML))}const l=function(e){const t=e.querySelector(".modal__close a"),o=e.querySelector(".buttonbar__ok"),l=t=>{t&&t.preventDefault(),e.classList.remove("visible"),n.classList.remove("modal__visible")};return t.addEventListener("click",(e=>{l(e)})),o.addEventListener("click",(e=>{l(e);window.open("about:blank","hello","width=200,height=200").document.write("Your message successfully sent")})),n.addEventListener("keyup",(e=>{"Escape"===e.code&&l(e)})),n.addEventListener("click",(e=>{e.target==document.querySelector(".modal")&&l(e)})),{show:t=>{t&&t.preventDefault(),e.classList.add("visible"),n.classList.add("modal__visible")},hide:l}}(function(){const e=o();return document.querySelector(t.contentSelector).remove(),n.append(e),e}());var a;return a=l.show,document.querySelector(t.btnToShowSelector).addEventListener("click",(e=>{e.preventDefault(),a(),document.querySelector(".buttonbar__ok").classList.remove("color"),document.querySelector(".form").reset()})),l};function initModal(){modal({contentSelector:".modal",headerText:"SEND US MESSAGE",modalId:"modalOne",btnToShowSelector:"#footerBtns"})}initModal();const EMAIL_REGEXP=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu,input=document.querySelector(".input-email");function onInput(){isEmailValid(input.value)?input.style.borderColor="green":input.style.borderColor="red"}function isEmailValid(e){return EMAIL_REGEXP.test(e)}function validation(e){function t(e){const t=e.parentNode;t.classList.contains("error")&&(t.querySelector(".error-label").remove(),t.classList.remove("error"))}function n(e,t){const n=e.parentNode,o=document.createElement("label");o.classList.add("error-label"),o.textContent=t,n.classList.add("error"),n.append(o)}let o=!0;const l=document.querySelectorAll(".box");for(const e of l)t(e),""==e.value&&(n(e,"required to fill out"),o=!1);return o}input.addEventListener("input",onInput),document.getElementById("add-form").addEventListener("keyup",(e=>{e.preventDefault(),1==validation(this)&&EMAIL_REGEXP.test(input.value)?document.querySelector(".buttonbar__ok").classList.add("color"):document.querySelector(".buttonbar__ok").classList.remove("color")}));